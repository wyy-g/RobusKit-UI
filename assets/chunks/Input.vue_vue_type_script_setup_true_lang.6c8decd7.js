import{d as R,a5 as S,h as i,M as D,g as _,x as T,o as a,c as l,F as U,r as c,e as n,k as F,Z as P,a6 as j,L as I,l as M,b as k,a7 as E,n as L,O as X,X as Z}from"./framework.8bf404a1.js";import{_ as h}from"./Icon.vue_vue_type_script_setup_true_lang.f72a7bdb.js";const oe=Symbol("formContextKey"),q=Symbol("formItemContextKey"),G={key:0,class:"vk-input__prepend"},H={class:"vk-input__wrapper"},J={key:0,class:"vk-input__prefix"},Q=["type","readonly","autocomplete","placeholder","autofocus","form","disabled"],W={key:1,class:"vk-input__append"},Y=["readonly","autocomplete","placeholder","autofocus","form","disabled"],ae=R({name:"VkInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(z,{expose:K,emit:s}){const t=z,w=S(),p=i(),o=i(t.modelValue),d=i(!1),r=i(!1),f=D(q,null),v=e=>{f==null||f.validate(e).catch(u=>console.log(u.errors))},b=_(()=>t.clearable&&!t.disabled&&!!o.value&&d.value),m=_(()=>t.showPassword&&!t.disabled&&!!o.value),V=()=>{r.value=!r.value},$=()=>{s("update:modelValue",o.value),s("input",o.value),v("input")},C=()=>{s("change",o.value),v("change")},g=e=>{d.value=!0,s("focus",e)},B=e=>{d.value=!1,s("blur",e),v("blur")},A=()=>{o.value="",s("update:modelValue",""),s("clear"),s("input",""),s("change","")},N=async()=>{await X(),p.value.focus()},O=()=>{};return T(()=>t.modelValue,e=>{o.value=e}),K({ref:p}),(e,u)=>(a(),l("div",{class:L(["vk-input",{[`vk-input--${e.type}`]:e.type,[`vk-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":d.value}])},[e.type!=="textarea"?(a(),l(U,{key:0},[e.$slots.prepend?(a(),l("div",G,[c(e.$slots,"prepend")])):n("",!0),F("div",H,[e.$slots.prefix?(a(),l("span",J,[c(e.$slots,"prefix")])):n("",!0),P(F("input",I({class:"vk-input__inner"},M(w),{type:e.showPassword?r.value?"text":"password":e.type,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,disabled:e.disabled,"onUpdate:modelValue":u[0]||(u[0]=y=>o.value=y),onInput:$,onFocus:g,onBlur:B,onChange:C,ref_key:"inputRef",ref:p}),null,16,Q),[[j,o.value]]),e.$slots.suffix||b.value||m.value?(a(),l("span",{key:1,class:"vk-input__suffix",onClick:N},[c(e.$slots,"suffix"),b.value?(a(),k(h,{key:0,icon:"circle-xmark",class:"vk-input__clear",onClick:A,onMousedown:Z(O,["prevent"])},null,8,["onMousedown"])):n("",!0),m.value&&r.value?(a(),k(h,{key:1,icon:"eye",class:"vk-input__password",onClick:V})):n("",!0),m.value&&!r.value?(a(),k(h,{key:2,icon:"eye-slash",class:"vk-input__password",onClick:V})):n("",!0)])):n("",!0)]),e.$slots.append?(a(),l("div",W,[c(e.$slots,"append")])):n("",!0)],64)):P((a(),l("textarea",I({key:1,class:"vk-textarea__wrapper"},M(w),{readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,disabled:e.disabled,"onUpdate:modelValue":u[1]||(u[1]=y=>o.value=y),onInput:$,onFocus:g,onBlur:B,onChange:C,ref_key:"inputRef",ref:p}),null,16,Y)),[[E,o.value]])],2))}});export{ae as _,q as a,oe as f};
