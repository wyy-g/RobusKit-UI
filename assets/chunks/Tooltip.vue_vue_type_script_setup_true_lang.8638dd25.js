import{d as F,h as c,g as H,a0 as h,x as d,z as S,o as _,c as y,k as V,r as N,L as b,V as D,l as w,H as $,w as z,a as L,t as M,e as U,T as j}from"./framework.8bf404a1.js";import{u as q,c as A}from"./useClickOutside.15b9f4f8.js";import{d as C}from"./debounce.24528342.js";const G=V("div",{id:"arrow","data-popper-arrow":""},null,-1),R=F({name:"VkTooltip",__name:"Tooltip",props:{content:{},trigger:{default:"hover"},placement:{default:"bottom"},manual:{type:Boolean},popperOptions:{},transition:{default:"fade"},openDelay:{default:0},closeDelay:{default:0}},emits:["visible-change","click-outside"],setup(O,{expose:T,emit:n}){const e=O,t=c(!1),p=c(),u=c(),v=c(),B=H(()=>({placement:e.placement,modifiers:[{name:"offset",options:{offset:[0,9]}}],...e.popperOptions}));function E(){t.value?r():l(),n("visible-change",t.value)}function P(){t.value=!0,n("visible-change",!0)}function x(){t.value=!1,n("visible-change",!1)}const m=C(P,e.openDelay),g=C(x,e.closeDelay),l=()=>{g.cancel(),m()},r=()=>{m.cancel(),g()};q(v,()=>{e.trigger==="click"&&t.value===!0&&!e.manual&&r(),t.value&&n("click-outside",!0)});let s=h({}),i=h({});function f(){e.trigger==="click"?s.click=E:e.trigger==="hover"&&(s.mouseenter=l,i.mouseleave=r)}e.manual||f(),d(()=>e.manual,o=>{o?(s={},i={}):f()}),d(()=>e.trigger,(o,k)=>{o!==k&&(s={},i={},f())});let a=null;return d(t,o=>{o&&(p.value&&u.value?a=A(p.value,u.value,B.value):a==null||a.destroy())},{flush:"post"}),S(()=>{a==null||a.destroy()}),T({show:l,hide:r}),(o,k)=>(_(),y("div",b({class:"vk-tooltip"},D(w(i),!0),{ref_key:"popperContainerNode",ref:v}),[V("div",b({class:"vk-tooltip__trigger",ref_key:"triggerNode",ref:p},D(w(s),!0)),[N(o.$slots,"default")],16),$(j,{name:o.transition},{default:z(()=>[t.value?(_(),y("div",{key:0,class:"vk-tooltip__popper",ref_key:"popperNode",ref:u,onMouseenter:l},[N(o.$slots,"content",{},()=>[L(M(o.content),1)]),G],544)):U("",!0)]),_:3},8,["name"])],16))}});export{R as _};
